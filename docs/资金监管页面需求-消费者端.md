# 资金监管页面需求-消费者端

[TOC]

# 

## 1 注册

要素：用户名、密码、家长姓名、联系方式、验证码
按钮：注册

库表：t_b_consumer（消费者表）
字段：consumer_login_name、consumer_password、consumer_name、consumer_phone

## 2 登录

描述：支持两种登录方式
- 用户名、密码
- 手机号、验证码
按钮：登录

库表：t_b_consumer（消费者表）
字段：consumer_login_name、consumer_password

## 3 我的

### 3.1公告信息

描述：查看监管机构发布的公告内容
要素：公告标题、公告内容、公告时间。

表名：t_b_consumer（消费者表）
字段：
    - consumer_login_name（登录名）

表名：t_l_contract（合同表）
字段：
    - consumer_id（客户ID）
    - lesson_id（课程ID）
    - edu_id（教育机构ID）

表名：t_b_edu_org（教育机构表） 
字段：
    - supervisor_org_id（所属的监管机构）

表名：t_b_announcement（监管机构公告表）
字段：
    - announcement_announcer（发布者ID/监管机构ID）、
    - announcement_title （标题）
    - announcement_content（内容）
    - announcement_date（发布日期）
    - announcement_time（发布时间）


### 3.2个人信息

描述：用于查看核修改用户的个人信息
可修改要素：家长姓名、身份证号、学生列表（姓名、年龄）
不支持修改要素：手机号

表名：t_b_consumer（消费者表）
字段：
    - consumer_name（	姓名）
    - consumer_identity_no（身份证）
    - consumer_phone（手机号）

表名：t_b_consumer_student（消费者学生表）
字段：
    - consumer_login_name（用户名）
    - consumer_student_name（学生名）
    - consumer_student_age（年龄）

### 3.3 修改密码
修改密码：单独的修改页面

表名：t_b_consumer（消费者表）
字段：
    - consumer_password（密码）

### 3.4投诉管理
描述：用于投诉教育机构或课程的功能
要素：教育机构名称、投诉类型（其他、课程、老师）、投诉标题、投诉内容、紧急程度

表名：t_b_complaint（教育机构投诉表）
字段：
    - edu_id（教育机构ID）
    - edu_name（教育机构名称）
    - complaint_type（投诉类型）
    - complaint_title（投诉标题）
    - complaint_content（投诉内容）
    - complaint_grade（紧急程度）
    - complaint_status（状态）

### 3.6我的课程列表
描述：用于提供签到、请假、查看签到列表、退订课程的功能
课程列表要素：课程名称、学生姓名、总课时、总价格、已完成课时

课程详情要素：课程名称、课程类型、课程介绍、课程大纲、总课时、总价格、学生姓名、老师姓名、老师简介、从业经验
按钮：签到、请假、查看签到列表、退订按钮。

表名：t_l_contract（合同表）
字段：
  - consumer_id（客户ID）
  - lesson_name（课程名称）
  - lesson_type（课程类型）
  - lesson_introduce（课程介绍）
  - lesson_outline（课程大纲）
  - lession_total_quantity（总课时）
  - 已完成课时 ：根据考勤表和合同表通过合约ID关联获取课程状态为有效的数量
  - lession_total_price（总价格）
  - teacher_name（教师姓名）
  - teacher_id 	教师ID
  - consumer_stu_name（学生姓名）

表名：t_b_edu_teacher（教育机构教师表）
字段：
  - teacher_id 教师ID
  - teacher_name 教师姓名
  - teacher_introduce 简介
  - teacher_experience 从业经验

#### 3.6.1签到
描述：由教育机构发起签到。发送通知后显示签到信息。
页面要素：日期、课程内容。
按钮：签到按钮、请假按钮

表名：t_l_attendance（考勤表）
字段：
  - lesson_name 课程名称 
  - attendance_date 考勤日期

#### 3.6.3查看签到列表
要素：课程名称、学生姓名、考勤类型（手工、超时自动打卡）、考勤课时、考勤日期、考勤时间、考勤状态（确认中、有效、协商中、无效）。

表名：t_l_attendance（考勤表）
字段：
  - lesson_id 	课程ID
  - lesson_name 课程名称
  - consumer_stu_name 学生姓名
  - attendance_type 考勤类型
  - attendance_lession_quantity 考勤课时
  - attendance_date 考勤日期
  - attendance_time 考勤时间
  - attendance_status 考勤状态

#### 3.6.4退订课程

要素：课程名称、学生姓名、协商类型（消费者退课、教育机构主动停止）、协商原因、退订金额

表名：t_b_contract_nego
字段：
  - nego_refund_amt 退款金额
  - nego_status 协商状态（协商中、完成）
  - nego_type 协商类型
  - nego_reason 协商原因
  - nego_refund_amt 	退款金额

### 3.7 自动签到
描述：用于批量设置购买的所有课程自动签到功能
要素：一个批量签到按钮、提示信息

表名：t_l_attendance （考勤表）
字段：
  - lesson_name 课程名称
  - attendance_type  考勤类型

## 4 课程购买
### 4.1 首页
描述：默认展示几个学校的列表信息，
列表要素：学校名称、学校简介、学校地址

#### 4.1.1 课程查询

描述：课程支持查询功能。

查询条件：学校、老师、课程

#### 4.1.2课程列表

描述：查询对应的课程列表，想看更多课程，就操作加载更多功能进行查看。

- 输入学校名称搜索：展示该学校的课程列表->课程详情包括老师信息

- 输入老师搜索：展示老师的课程列表->课程详情

- 输入课程名称搜索：展示课程列表->课程详情（课程名称、简介、老师、课时）

  支持功能

支持功能：

- 支持加载更多功能
- 按钮：立即购买、加入购物车

列表要素：课程图片、课程名称、课程简介（超出后省略）、价格、课时、机构名称

#### 4.1.3课程详情

要素：课程图片、课程名称、课程简介、总价格、课时、单价、机构名称、老师

### 4.2购物车

描述：包含删除课程、选中和取消选中课程功能，支付按钮

课程列表要素：课程图片、机构名称、课程名称、课程简介、课时、总价格、课程时间

### 4.3 生成订单

描述：课程信息，选择学生，点击支付按钮，跳转进入数币支付系统

要素：机构名称、课程名称、课程简介、学生姓名、家长姓名、家长联系方式

### 4.4 支付结果返回页面

描述：用于支付完成后，数币系统我系统的支付结果页面，包含返回首页、继续购买、查看详情按钮。

## 















